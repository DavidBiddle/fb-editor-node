{"version":3,"sources":["webpack://@ministryofjustice/fb-editor-node/./src/js/admin-page.property.js"],"names":["textInput","document","querySelector","className","includes","undefined","html","value","insertAdjacentHTML","remove","expandingTextInput","addEventListener","e","code","preventDefault","stopPropagation","paste","clipboardData","window","getData","replace","insertField","insertValue","selection","focus","createRange","text","selectionStart","startPos","endPos","selectionEnd","l","substring","r","length","insertAtCursor"],"mappings":"MAoBA,IAAIA,EAAYC,SAASC,cAAc,2CAKvC,GAJIF,GAAaA,EAAUG,UAAUC,SAAS,wBAC5CJ,OAAYK,GAGVL,EAAW,CACb,IAAMM,EAAO,yIAAH,OAA4IN,EAAUO,MAAtJ,eAEVP,EAAUQ,mBAAmB,WAAYF,GACzCN,EAAUS,SAEV,IAAMC,EAAqBT,SAASC,cAAc,uBAClDQ,EAAmBC,iBAAiB,WAAW,SAACC,GAC/B,UAAXA,EAAEC,OACJD,EAAEE,iBACFF,EAAEG,sBAGNL,EAAmBC,iBAAiB,SAAS,SAACC,GAC5CA,EAAEE,iBACFF,EAAEG,kBACF,IAAIC,GAASJ,EAAEK,eAAiBC,OAAOD,eAAeE,QAAQ,QAC9DH,EAAQA,EAAMI,QAAQ,OAAQ,KA1ClC,SAAyBC,EAAaC,GACpC,GAAIrB,SAASsB,UAEXF,EAAYG,QACMvB,SAASsB,UAAUE,cAC3BC,KAAOJ,OACZ,GAAID,EAAYM,gBAAiD,MAA/BN,EAAYM,eAAwB,CAE3E,IAAMC,EAAWP,EAAYM,eACvBE,EAASR,EAAYS,aACrBC,EAAIV,EAAYd,MAAMyB,UAAU,EAAGJ,GACnCK,EAAIZ,EAAYd,MAAMyB,UAAUH,EAAQR,EAAYd,MAAM2B,QAChEb,EAAYd,MAAQwB,EAAIT,EAAcW,EACtCZ,EAAYM,eAAiBC,EAAWN,EAAYY,OACpDb,EAAYS,aAAeF,EAAWN,EAAYY,YAElDb,EAAYd,OAASe,EA2BrBa,CAAezB,EAAoBM,Q","file":"admin-page.property-0.2.14.js","sourcesContent":["function insertAtCursor (insertField, insertValue) {\r\n  if (document.selection) {\r\n    // IE support\r\n    insertField.focus()\r\n    const selection = document.selection.createRange()\r\n    selection.text = insertValue\r\n  } else if (insertField.selectionStart || insertField.selectionStart === '0') {\r\n    // MOZILLA and others\r\n    const startPos = insertField.selectionStart\r\n    const endPos = insertField.selectionEnd\r\n    const l = insertField.value.substring(0, startPos)\r\n    const r = insertField.value.substring(endPos, insertField.value.length)\r\n    insertField.value = l + insertValue + r\r\n    insertField.selectionStart = startPos + insertValue.length\r\n    insertField.selectionEnd = startPos + insertValue.length\r\n  } else {\r\n    insertField.value += insertValue\r\n  }\r\n}\r\n\r\nlet textInput = document.querySelector('.govuk-input[name=\"value\"][type=\"text\"]')\r\nif (textInput && textInput.className.includes('govuk-input--width')) {\r\n  textInput = undefined\r\n}\r\n\r\nif (textInput) {\r\n  const html = `<textarea class=\"govuk-textarea\" id=\"expandingTextInput\" name=\"value\" rows=\"1\" aria-describedby=\"admin.instance.property--value-hint\">${textInput.value}</textarea>`\r\n\r\n  textInput.insertAdjacentHTML('afterend', html)\r\n  textInput.remove()\r\n\r\n  const expandingTextInput = document.querySelector('#expandingTextInput')\r\n  expandingTextInput.addEventListener('keydown', (e) => {\r\n    if (e.code === 'Enter') {\r\n      e.preventDefault()\r\n      e.stopPropagation()\r\n    }\r\n  })\r\n  expandingTextInput.addEventListener('paste', (e) => {\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n    let paste = (e.clipboardData || window.clipboardData).getData('text')\r\n    paste = paste.replace(/\\n/gi, ' ')\r\n    insertAtCursor(expandingTextInput, paste)\r\n  })\r\n}\r\n"],"sourceRoot":""}