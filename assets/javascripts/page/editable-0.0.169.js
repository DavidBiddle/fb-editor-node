!function(e){var t={};function a(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=5)}({5:function(e,t){const a=(e,t,a)=>{let n=[];const i=(e,t)=>{let n=e;if(a&&t){let e;for(;!e&&n.parentNode;)n=n.parentNode,n&&n.className&&n.className.includes(a)&&(e=!0);e||(n=void 0)}return n};e.forEach(e=>{if(e.classList.contains("fb-mode-edit"))return;const a=(e,a)=>{const n=i(e,a);n&&n.classList.add(t)},l=(new RegExp("s*"+t),(e,a)=>{const n=i(e,a);n&&n.classList.remove(t)});e.addEventListener("mouseover",i=>{let s=document.querySelector("."+t);s&&(n.push(s),l(s)),a(e,!0),i.stopPropagation()}),e.addEventListener("mouseout",t=>{l(e,!0);const i=n.shift();i&&a(i),t.stopPropagation()})})};[].slice.call(document.querySelectorAll(".fb-block-date")).forEach(e=>{const t=e.getAttribute("data-block-id"),a=e.querySelector("legend");a.setAttribute("data-block-id",t),a.setAttribute("data-block-property","label")}),[].slice.call(document.querySelectorAll("details")).forEach(e=>{e.setAttribute("open",!0);const t=e.getAttribute("data-block-id"),a=e.querySelector("summary");a.setAttribute("data-block-id",t),a.setAttribute("data-block-property","summary");const n=e.querySelector(".govuk-details__text");n.setAttribute("data-block-id",t),n.setAttribute("data-block-property","html")}),[].slice.call(document.querySelectorAll(".fb-block--add")).forEach(e=>{if(e.href.match(/\/items\/edit$/)){"select"===e.parentElement.previousElementSibling.dataset.blockType&&e.setAttribute("href",e.href.replace(/\/items\/edit$/,"/items"))}});const n=[].slice.call(document.querySelectorAll("[data-block-id]"));n.forEach((e,t,a)=>{if(e.parentElement&&"SELECT"===e.parentElement.tagName)return;const n=e,i=e.getAttribute("data-block-id");if("undefined"===i)return;const l=e.getAttribute("data-block-type")||"",s=(e,s="")=>{let c=e.getAttribute(`data-block-property${s}`);if(s&&!c)return;if("-class"===s){const t=c.split(":");c=t[1];const a=t[0];e=e.querySelector("."+a)}let o=i+(c?"/"+c:""),r=!c;if("actions"===i){r=!1,o=document.querySelector('[data-block-type="page"]').dataset.blockId+"/actionType"}const p=r?"{}":"âœŽ",d=r?" fb-block-instance":" fb-block-property";"input"===e.localName&&(e=e.parentNode,a[t]=e),"fieldset"===e.localName&&(e=e.querySelector("legend")||e,a[t]=e);let b="";if(r){let t="page"!==l?"component":"page",a=e.getAttribute("data-block-steps"),s="page.start"===e.getAttribute("data-block-pagetype"),c="page"===t;"page.singlequestion"===e.getAttribute("data-block-pagetype")&&(c=!1),e.classList.contains("fb-block-group")?c=!0:e.classList.contains("fb-block-section")?c=!0:e.classList.contains("fb-block-fieldset")&&(c=!0);const r=l.charAt(0).toUpperCase()+l.slice(1),d=n.getAttribute("value")||n.querySelector(`[data-block-id="${i}"] > [value]`),f="radio"===n.getAttribute("type"),u=!f&&(n.getAttribute("name")||n.querySelector(`[data-block-id="${i}"] > [name]`));if(b=`<div class="fb-block-instance-properties"><span class="fb-block-instance-properties-heading fb-block-edit">${p}</span><ul>`,b+=`<li class="fb-block-instance-properties-type-item"><span class="fb-block-instance-properties-type">${r}</span></li>`,u||"radios"===l||"date"===l||"fileupload"===l){b+=`<li><a href="/admin/instance/${o}/name">Set <span class="fb-block-instance-property-link">${l} ${t}</span> name</a></li>`}else if(f){b+=`<li><a href="/admin/instance/${o}/value">Set <span class="fb-block-instance-property-link">${l} ${t}</span> value</a></li>`}else if(d){b+=`<li><a href="/admin/instance/${o}/value">Set <span class="fb-block-instance-property-link">${l} ${t}</span> value</a></li>`}if("fileupload"===l){b+=`<li><a href="/admin/instance/${o}/maxSize">Set <span class="fb-block-instance-property-link">${l} ${t}</span> max size</a></li>`,b+=`<li><a href="/admin/instance/${o}/accept">Set <span class="fb-block-instance-property-link">${l} ${t}</span> accepted types</a></li>`,b+=`<li><a href="/admin/instance/${o}/maxFiles">Set <span class="fb-block-instance-property-link">${l} ${t}</span> max files</a></li>`,b+=`<li><a href="/admin/instance/${o}/minFiles">Set <span class="fb-block-instance-property-link">${l} ${t}</span> min files</a></li>`}if(u||"radios"===l||"checkboxes"===l||"date"===l||"fieldset"===l||"textarea"===l){if("fieldset"!==l){b+=`<li><a href="/admin/instance/${o}/validation/required">Set <span class="fb-block-instance-property-link">${l} ${t}</span> required</a></li>`}if("fieldset"!==l&&"radios"!==l&&"checkboxes"!==l){b+=`<li><a href="/admin/instance/validation/${o}">Set <span class="fb-block-instance-property-link">${l} ${t}</span> validation</a></li>`}if("fileupload"!==l&&"radios"!==l&&"checkboxes"!==l){b+=`<li><a href="/admin/instance/${o}/repeatable">Set <span class="fb-block-instance-property-link">${l} ${t}</span> repeatability</a></li>`}}if("page"!==l||"/edit"!==document.location.pathname){b+=`<li><a href="/admin/instance/${o}/show">Set <span class="fb-block-instance-property-link">${l} ${t}</span> visibility</a></li>`}if(c){b+=`<li><a href="/admin/instance/${o}/components">Reorder <span class="fb-block-instance-property-link">${l} ${t}</span> components</a></li>`}if("page"===t){if(a){let e=`<li><a href="/admin/instance/${o}/steps">Set <span class="fb-block-instance-property-link">${l} ${t}</span> steps</a></li>`;s||(e+=`<li><a href="/admin/instance/${o}/showSteps">Set <span class="fb-block-instance-property-link">${l} ${t}</span> steps visibility</a></li>`,e+=`<li><a href="/admin/instance/${o}/stepsHeading">Set <span class="fb-block-instance-property-link">${l} ${t}</span> steps heading</a></li>`),b+=e}else{b+=`<li><a href="/admin/instance/${o}/enableSteps">Enable <span class="fb-block-instance-property-link">${l} ${t}</span> steps</a></li>`}s||(b+=`<li><a href="/admin/instance/${o}/url">Set <span class="fb-block-instance-property-link">${l} ${t}</span> URL</a></li>`)}else if(l.match(/^(text|textarea|number|select|autocomplete)$/)){b+=`<li><a href="/admin/instance/${o}/widthClassInput">Set <span class="fb-block-instance-property-link">${l} ${t}</span> width</a></li>`}if(l.match(/^(radio|checkbox)$/)){b+=`<li><a href="/admin/new/${o}/conditionalComponent">Set <span class="fb-block-instance-property-link">${l} ${t}</span> conditional component</a></li>`}if(b+=`<li class="fb-block-instance--all"><a href="/admin/instance/${o}">View all <span class="fb-block-instance-property-link">${l}</span> properties</a></li>`,"page"!==l||"/edit"!==document.location.pathname){b+=`<li class="fb-block-instance--delete"><form method="post" action="/admin/delete/${i}" class="fb-instance--delete" data-delete-type="${l}"><button>Delete ${t} <span class="fb-block-instance-property-link">${l}</span></button></form></li>`}b+="</ul></div>"}else b='<div class="fb-block-edit-container'+d+'"><a href="/admin/instance/'+o+'" class="fb-block-edit" title="Edit '+o+'"><span>'+p+"</span></a></div>";e.insertAdjacentHTML("afterbegin",b)};s(n),s(n,"-instance"),s(n,"-class")}),a(n,"fb-hover"),a([].slice.call(document.querySelectorAll(".fb-page-steps")),"fb-step-highlight","fb-step-container"),[].slice.call(document.querySelectorAll(".fb-instance--delete")).forEach(e=>{e.addEventListener("click",(function(e){!0!==confirm("Are you sure you want to delete?")&&e.preventDefault()}))});const i=()=>{[].slice.call(document.querySelectorAll(".govuk-radios__conditional, .govuk-checkboxes__conditional")).forEach(e=>{e.classList.remove("govuk-radios__conditional--hidden"),e.classList.remove("govuk-checkboxes__conditional--hidden")})};setInterval(i,10),[].slice.call(document.querySelectorAll(".govuk-radios__input, .govuk-checkboxes__input, [aria-controls]")).forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),i();const t=e.target.parentElement;t&&t.className.includes("fb-block-edit")&&(document.location.href=t.href)})}),[].slice.call(document.querySelectorAll(".govuk-input, .govuk-textarea")).forEach(e=>{e.addEventListener("focus",()=>{e.blur()})});const l=document.querySelector(".govuk-back-link");l&&l.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation()})}});
//# sourceMappingURL=editable-0.0.169.js.map