!function(e){var t={};function a(n){if(t[n])return t[n].exports;var c=t[n]={i:n,l:!1,exports:{}};return e[n].call(c.exports,c,c.exports,a),c.l=!0,c.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)a.d(n,c,function(t){return e[t]}.bind(null,c));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=19)}({19:function(e,t){var a=function(e,t,a){var n=[],c=function(e,t){var n=e;if(a&&t){for(var c;!c&&n.parentNode;)(n=n.parentNode)&&n.className&&n.className.includes(a)&&(c=!0);c||(n=void 0)}return n};e.forEach((function(e){if(!e.classList.contains("fb-mode-edit")){var a=function(e,a){var n=c(e,a);n&&n.classList.add(t)},i=(new RegExp("s*".concat(t)),function(e,a){var n=c(e,a);n&&n.classList.remove(t)});e.addEventListener("mouseover",(function(c){var o=document.querySelector(".".concat(t));o&&(n.push(o),i(o)),a(e,!0),c.stopPropagation()})),e.addEventListener("mouseout",(function(t){i(e,!0);var c=n.shift();c&&a(c),t.stopPropagation()}))}}))};[].slice.call(document.querySelectorAll(".fb-block-date")).forEach((function(e){var t=e.getAttribute("data-block-id"),a=e.querySelector("legend");a.setAttribute("data-block-id",t),a.setAttribute("data-block-property","label")})),[].slice.call(document.querySelectorAll("details")).forEach((function(e){e.setAttribute("open",!0);var t=e.getAttribute("data-block-id"),a=e.querySelector("summary");a.setAttribute("data-block-id",t),a.setAttribute("data-block-property","summary");var n=e.querySelector(".govuk-details__text");n.setAttribute("data-block-id",t),n.setAttribute("data-block-property","html")})),[].slice.call(document.querySelectorAll(".fb-block--add")).forEach((function(e){e.href.match(/\/items\/edit$/)&&("select"===e.parentElement.previousElementSibling.dataset.blockType&&e.setAttribute("href",e.href.replace(/\/items\/edit$/,"/items")))}));var n=[].slice.call(document.querySelectorAll("[data-block-id]"));n.forEach((function(e,t,a){if(!e.parentElement||"SELECT"!==e.parentElement.tagName){var n=e,c=e.getAttribute("data-block-id");if("undefined"!==c){var i=e.getAttribute("data-block-type")||"",o=function(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",l=e.getAttribute("data-block-property".concat(o));if(!o||l){if("-class"===o){var s=l.split(":");l=s[1];var r=s[0];e=e.querySelector(".".concat(r))}var p=c+(l?"/".concat(l):""),d=!l;if("actions"===c){d=!1;var f=document.querySelector('[data-block-type="page"]');p="".concat(f.dataset.blockId,"/actionType")}var u=d?"{}":"âœŽ",b=d?" fb-block-instance":" fb-block-property",k="afterbegin";"input"===e.localName&&(e=e.parentNode,a[t]=e),"fieldset"===e.localName&&(e=e.querySelector("legend")||e,a[t]=e);var v="";if(d){var m="page"!==i?"component":"page",y=e.getAttribute("data-block-steps"),h="page.start"===e.getAttribute("data-block-pagetype"),g="page"===m;"page.singlequestion"===e.getAttribute("data-block-pagetype")&&(g=!1),e.classList.contains("fb-block-group")?g=!0:e.classList.contains("fb-block-section")?g=!0:e.classList.contains("fb-block-fieldset")&&(g=!0);var S=i.charAt(0).toUpperCase()+i.slice(1),A=n.getAttribute("value")||n.querySelector('[data-block-id="'.concat(c,'"] > [value]')),E="radio"===n.getAttribute("type"),q=!E&&(n.getAttribute("name")||n.querySelector('[data-block-id="'.concat(c,'"] > [name]')));if(v='<div class="fb-block-instance-properties"><span class="fb-block-instance-properties-heading fb-block-edit">'.concat(u,"</span><ul>"),v+='<li class="fb-block-instance-properties-type-item"><span class="fb-block-instance-properties-type">'.concat(S,"</span></li>"),q||"radios"===i||"date"===i||"fileupload"===i){var x='<li><a href="/admin/instance/'.concat(p,'/name">Set <span class="fb-block-instance-property-link">').concat(i," ").concat(m,"</span> name</a></li>");v+=x}else if(E){var _='<li><a href="/admin/instance/'.concat(p,'/value">Set <span class="fb-block-instance-property-link">').concat(i," ").concat(m,"</span> value</a></li>");v+=_}else if(A){var L='<li><a href="/admin/instance/'.concat(p,'/value">Set <span class="fb-block-instance-property-link">').concat(i," ").concat(m,"</span> value</a></li>");v+=L}if("fileupload"===i){var w='<li><a href="/admin/instance/'.concat(p,'/maxSize">Set <span class="fb-block-instance-property-link">').concat(i," ").concat(m,"</span> max size</a></li>");v+=w;var N='<li><a href="/admin/instance/'.concat(p,'/accept">Set <span class="fb-block-instance-property-link">').concat(i," ").concat(m,"</span> accepted types</a></li>");v+=N;var P='<li><a href="/admin/instance/'.concat(p,'/maxFiles">Set <span class="fb-block-instance-property-link">').concat(i," ").concat(m,"</span> max files</a></li>");v+=P;var j='<li><a href="/admin/instance/'.concat(p,'/minFiles">Set <span class="fb-block-instance-property-link">').concat(i," ").concat(m,"</span> min files</a></li>");v+=j}if(q||"radios"===i||"checkboxes"===i||"date"===i||"fieldset"===i||"textarea"===i){if("fieldset"!==i){var O='<li><a href="/admin/instance/'.concat(p,'/validation/required">Set <span class="fb-block-instance-property-link">').concat(i," ").concat(m,"</span> required</a></li>");v+=O}if("fieldset"!==i&&"radios"!==i&&"checkboxes"!==i){var T='<li><a href="/admin/instance/validation/'.concat(p,'">Set <span class="fb-block-instance-property-link">').concat(i," ").concat(m,"</span> validation</a></li>");v+=T}if("fileupload"!==i&&"radios"!==i&&"checkboxes"!==i){var M='<li><a href="/admin/instance/'.concat(p,'/repeatable">Set <span class="fb-block-instance-property-link">').concat(i," ").concat(m,"</span> repeatability</a></li>");v+=M}}if("page"!==i||"/edit"!==document.location.pathname){var C='<li><a href="/admin/instance/'.concat(p,'/show">Set <span class="fb-block-instance-property-link">').concat(i," ").concat(m,"</span> visibility</a></li>");v+=C}if(g){var D='<li><a href="/admin/instance/'.concat(p,'/components">Reorder <span class="fb-block-instance-property-link">').concat(i," ").concat(m,"</span> components</a></li>");v+=D}if("page"===m){if(y){var $='<li><a href="/admin/instance/'.concat(p,'/steps">Set <span class="fb-block-instance-property-link">').concat(i," ").concat(m,"</span> steps</a></li>");h||($+='<li><a href="/admin/instance/'.concat(p,'/showSteps">Set <span class="fb-block-instance-property-link">').concat(i," ").concat(m,"</span> steps visibility</a></li>"),$+='<li><a href="/admin/instance/'.concat(p,'/stepsHeading">Set <span class="fb-block-instance-property-link">').concat(i," ").concat(m,"</span> steps heading</a></li>")),v+=$}else{var I='<li><a href="/admin/instance/'.concat(p,'/enableSteps">Enable <span class="fb-block-instance-property-link">').concat(i," ").concat(m,"</span> steps</a></li>");v+=I}h||(v+='<li><a href="/admin/instance/'.concat(p,'/url">Set <span class="fb-block-instance-property-link">').concat(i," ").concat(m,"</span> URL</a></li>"))}else if(i.match(/^(text|textarea|number|select|autocomplete)$/)){var R='<li><a href="/admin/instance/'.concat(p,'/widthClassInput">Set <span class="fb-block-instance-property-link">').concat(i," ").concat(m,"</span> width</a></li>");v+=R}if(i.match(/^(radio|checkbox)$/)){var z='<li><a href="/admin/new/'.concat(p,'/conditionalComponent">Set <span class="fb-block-instance-property-link">').concat(i," ").concat(m,"</span> conditional component</a></li>");v+=z}var F='<li class="fb-block-instance--all"><a href="/admin/instance/'.concat(p,'">View all <span class="fb-block-instance-property-link">').concat(i,"</span> properties</a></li>");if(v+=F,"page"!==i||"/edit"!==document.location.pathname){var H='<li class="fb-block-instance--delete"><form method="post" action="/admin/delete/'.concat(c,'" class="fb-instance--delete" data-delete-type="').concat(i,'"><button>Delete ').concat(m,' <span class="fb-block-instance-property-link">').concat(i,"</span></button></form></li>");v+=H}v+="</ul></div>"}else v='<div class="fb-block-edit-container'.concat(b,'"><a href="/admin/instance/').concat(p,'" class="fb-block-edit" title="Edit ').concat(p,'"><span>').concat(u,"</span></a></div>");e.insertAdjacentHTML(k,v)}};o(n),o(n,"-instance"),o(n,"-class")}}})),a(n,"fb-hover"),a([].slice.call(document.querySelectorAll(".fb-page-steps")),"fb-step-highlight","fb-step-container"),[].slice.call(document.querySelectorAll(".fb-instance--delete")).forEach((function(e){e.addEventListener("click",(function(e){!0!==confirm("Are you sure you want to delete?")&&e.preventDefault()}))}));var c=function(){[].slice.call(document.querySelectorAll(".govuk-radios__conditional, .govuk-checkboxes__conditional")).forEach((function(e){e.classList.remove("govuk-radios__conditional--hidden"),e.classList.remove("govuk-checkboxes__conditional--hidden")}))};setInterval(c,10),[].slice.call(document.querySelectorAll(".govuk-radios__input, .govuk-checkboxes__input, [aria-controls]")).forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),c();var t=e.target.parentElement;t&&t.className.includes("fb-block-edit")&&(document.location.href=t.href)}))})),[].slice.call(document.querySelectorAll(".govuk-input, .govuk-textarea")).forEach((function(e){e.addEventListener("focus",(function(){e.blur()}))}));var i=document.querySelector(".govuk-back-link");i&&i.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation()}))}});
//# sourceMappingURL=editable-0.0.169.js.map