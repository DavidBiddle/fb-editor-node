{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/app.js","webpack:///./src/js/shortcuts.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","shortcuts","require","addShortcut","char","func","add","modeNav","stub","urlLink","document","querySelector","location","href","getAttribute","match","replace","RegExp","upNav","type","newHref","urlLinks","Array","from","querySelectorAll","length","flowNav","direction","link","includes","startsWith","allShortcuts","shortcutCombination","callback","opt","defaultOptions","propagate","disable_in_input","target","keycode","dfo","ele","getElementById","toLowerCase","element","code","e","window","event","srcElement","nodeType","parentNode","tagName","keyCode","which","character","String","fromCharCode","keys","split","kp","shiftNums","1","2","3","4","5","6","7","8","9","0","'","specialKeys","esc","escape","tab","space","return","enter","backspace","scrolllock","scroll_lock","scroll","capslock","caps_lock","caps","numlock","num_lock","num","pause","break","insert","home","delete","end","pageup","page_up","pu","pagedown","page_down","pd","left","up","right","down","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","modifiers","shift","wanted","pressed","ctrl","alt","meta","ctrlKey","shiftKey","altKey","metaKey","k","cancelBubble","returnValue","stopPropagation","preventDefault","this","addEventListener","attachEvent","remove","binding","detachEvent","removeEventListener"],"mappings":"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","file":"app-0.0.180.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","const shortcuts = require('./shortcuts')\r\n\r\nconst addShortcut = (char, func) => shortcuts.add(`shift+alt+${char}`, func)\r\n\r\nfunction modeNav (stub) {\r\n  const urlLink = document.querySelector(`.fb-navigation-${stub} a`)\r\n  if (!urlLink) {\r\n    if (stub.match(/(edit|preview)/)) {\r\n      document.location.href = href.replace(new RegExp(`/${stub}`), '') + (href === '/' ? '' : '/') + stub\r\n    }\r\n    return\r\n  }\r\n  document.location.href = urlLink.getAttribute('href')\r\n}\r\n\r\nfunction upNav (type) {\r\n  if (document.location.href.match(/admin\\/instance\\/.+?\\/.+/)) {\r\n    document.location.href = document.location.href.replace(/\\/[^/]+$/, '')\r\n    return\r\n  }\r\n  const urlLinks = Array.from(document.querySelectorAll('[data-block-id=\"admin.instance--used\"] a'))\r\n  if (!urlLinks.length) {\r\n    return\r\n  }\r\n  let newHref\r\n  if (type === 'top') {\r\n    // return modeNav('instance')\r\n    newHref = urlLinks[0].href\r\n  } else {\r\n    newHref = urlLinks[urlLinks.length - 1].href\r\n  }\r\n  document.location.href = newHref\r\n}\r\n\r\nfunction flowNav (direction) {\r\n  const link = document.querySelector(`.fb-preview-${direction} a`)\r\n  if (link) {\r\n    document.location.href = link.getAttribute('href')\r\n  }\r\n}\r\n\r\nconst href = document.location.href.replace(/^https{0,1}:\\/\\/[^/]+/, '')\r\n\r\nif (!href.includes('/flow')) {\r\n  addShortcut('f', () => {\r\n    document.location.href = '/admin/flow'\r\n  })\r\n}\r\n\r\nif (!href.startsWith('/admin') || href.includes('instance')) {\r\n  addShortcut('r', () => {\r\n    modeNav('live')\r\n  })\r\n  addShortcut('i', () => {\r\n    modeNav('instance')\r\n  })\r\n  addShortcut('e', () => {\r\n    modeNav('edit')\r\n  })\r\n  addShortcut('p', () => {\r\n    modeNav('preview')\r\n  })\r\n  addShortcut('t', () => {\r\n    upNav('top')\r\n  })\r\n  addShortcut('up', () => {\r\n    upNav()\r\n  })\r\n  addShortcut('left', () => {\r\n    flowNav('previous')\r\n  })\r\n  addShortcut('right', () => {\r\n    flowNav('next')\r\n  })\r\n}\r\n","/**\r\n * http://www.openjs.com/scripts/events/keyboard_shortcuts/\r\n * Version : 2.01.B\r\n * By Binny V A\r\n * License : BSD\r\n */\r\nmodule.exports = {\r\n  allShortcuts: {}, // All the shortcuts are stored in this object\r\n\r\n  // Add the shortcut\r\n  add (shortcutCombination, callback, opt) {\r\n    // Provide a set of default options\r\n    const defaultOptions = {\r\n      type: 'keydown',\r\n      propagate: false,\r\n      disable_in_input: false,\r\n      target: document,\r\n      keycode: false\r\n    }\r\n    if (!opt) opt = defaultOptions\r\n    else {\r\n      for (const dfo in defaultOptions) {\r\n        if (typeof opt[dfo] === 'undefined') opt[dfo] = defaultOptions[dfo]\r\n      }\r\n    }\r\n\r\n    let ele = opt.target\r\n    if (typeof opt.target === 'string') ele = document.getElementById(opt.target)\r\n\r\n    shortcutCombination = shortcutCombination.toLowerCase()\r\n\r\n    // The function to be called at keypress\r\n    const func = function (e = window.event) {\r\n      if (opt.disable_in_input) { // Don't enable shortcut keys in Input, Textarea fields\r\n        let element\r\n        if (e.target) element = e.target\r\n        else if (e.srcElement) element = e.srcElement\r\n        if (element.nodeType === 3) element = element.parentNode\r\n\r\n        if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') return\r\n      }\r\n\r\n      let code\r\n      // Find Which key is pressed\r\n      if (e.keyCode) code = e.keyCode\r\n      else if (e.which) code = e.which\r\n\r\n      let character = String.fromCharCode(code).toLowerCase()\r\n\r\n      if (code === 188) character = ',' // If the user presses , when the type is onkeydown\r\n      if (code === 190) character = '.' // If the user presses , when the type is onkeydown\r\n\r\n      const keys = shortcutCombination.split('+')\r\n      // Key Pressed - counts the number of valid keypresses - if it is same as the number of keys, the shortcut function is invoked\r\n      let kp = 0\r\n\r\n      // Work around for stupid Shift key bug created by using lowercase - as a result the shift+num combination was broken\r\n      const shiftNums = {\r\n        '`': '~',\r\n        1: '!',\r\n        2: '@',\r\n        3: '#',\r\n        4: '$',\r\n        5: '%',\r\n        6: '^',\r\n        7: '&',\r\n        8: '*',\r\n        9: '(',\r\n        0: ')',\r\n        '-': '_',\r\n        '=': '+',\r\n        ';': ':',\r\n        '\\'': '\"',\r\n        ',': '<',\r\n        '.': '>',\r\n        '/': '?',\r\n        '\\\\': '|'\r\n      }\r\n      // Special Keys - and their codes\r\n      const specialKeys = {\r\n        esc: 27,\r\n        escape: 27,\r\n        tab: 9,\r\n        space: 32,\r\n        return: 13,\r\n        enter: 13,\r\n        backspace: 8,\r\n\r\n        scrolllock: 145,\r\n        scroll_lock: 145,\r\n        scroll: 145,\r\n        capslock: 20,\r\n        caps_lock: 20,\r\n        caps: 20,\r\n        numlock: 144,\r\n        num_lock: 144,\r\n        num: 144,\r\n\r\n        pause: 19,\r\n        break: 19,\r\n\r\n        insert: 45,\r\n        home: 36,\r\n        delete: 46,\r\n        end: 35,\r\n\r\n        pageup: 33,\r\n        page_up: 33,\r\n        pu: 33,\r\n\r\n        pagedown: 34,\r\n        page_down: 34,\r\n        pd: 34,\r\n\r\n        left: 37,\r\n        up: 38,\r\n        right: 39,\r\n        down: 40,\r\n\r\n        f1: 112,\r\n        f2: 113,\r\n        f3: 114,\r\n        f4: 115,\r\n        f5: 116,\r\n        f6: 117,\r\n        f7: 118,\r\n        f8: 119,\r\n        f9: 120,\r\n        f10: 121,\r\n        f11: 122,\r\n        f12: 123\r\n      }\r\n\r\n      const modifiers = {\r\n        shift: {wanted: false, pressed: false},\r\n        ctrl: {wanted: false, pressed: false},\r\n        alt: {wanted: false, pressed: false},\r\n        meta: {wanted: false, pressed: false} // Meta is Mac specific\r\n      }\r\n\r\n      if (e.ctrlKey) modifiers.ctrl.pressed = true\r\n      if (e.shiftKey) modifiers.shift.pressed = true\r\n      if (e.altKey) modifiers.alt.pressed = true\r\n      if (e.metaKey) modifiers.meta.pressed = true\r\n\r\n      for (let k, i = 0; i < keys.length; i++) {\r\n        k = keys[i]\r\n\r\n        // Modifiers\r\n        if (k === 'ctrl' || k === 'control') {\r\n          kp++\r\n          modifiers.ctrl.wanted = true\r\n        } else if (k === 'shift') {\r\n          kp++\r\n          modifiers.shift.wanted = true\r\n        } else if (k === 'alt') {\r\n          kp++\r\n          modifiers.alt.wanted = true\r\n        } else if (k === 'meta') {\r\n          kp++\r\n          modifiers.meta.wanted = true\r\n        } else if (k.length > 1) { // If it is a special key\r\n          if (specialKeys[k] === code) kp++\r\n        } else if (opt.keycode) {\r\n          if (opt.keycode === code) kp++\r\n        } else { // The special keys did not match\r\n          if (character === k) kp++\r\n          else {\r\n            if (shiftNums[character] && e.shiftKey) { // Stupid Shift key bug created by using lowercase\r\n              character = shiftNums[character]\r\n              if (character === k) kp++\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      if (kp === keys.length &&\r\n          modifiers.ctrl.pressed === modifiers.ctrl.wanted &&\r\n          modifiers.shift.pressed === modifiers.shift.wanted &&\r\n          modifiers.alt.pressed === modifiers.alt.wanted &&\r\n          modifiers.meta.pressed === modifiers.meta.wanted) {\r\n        callback(e)\r\n\r\n        if (!opt.propagate) { // Stop the event\r\n          // e.cancelBubble is supported by IE - this will kill the bubbling process.\r\n          e.cancelBubble = true\r\n          e.returnValue = false\r\n\r\n          // e.stopPropagation works in Firefox.\r\n          if (e.stopPropagation) {\r\n            e.stopPropagation()\r\n            e.preventDefault()\r\n          }\r\n          return false\r\n        }\r\n      }\r\n    }\r\n    this.allShortcuts[shortcutCombination] = {\r\n      callback: func,\r\n      target: ele,\r\n      event: opt.type\r\n    }\r\n    // Attach the function with the event\r\n    if (ele.addEventListener) ele.addEventListener(opt.type, func, false)\r\n    else if (ele.attachEvent) ele.attachEvent(`on${opt.type}`, func)\r\n    else ele[`on${opt.type}`] = func\r\n  },\r\n\r\n  // Remove the shortcut - just specify the shortcut and I will remove the binding\r\n  remove (shortcutCombination) {\r\n    shortcutCombination = shortcutCombination.toLowerCase()\r\n    const binding = this.allShortcuts[shortcutCombination]\r\n    delete this.allShortcuts[shortcutCombination]\r\n    if (!binding) return\r\n    const type = binding.event\r\n    const ele = binding.target\r\n    const callback = binding.callback\r\n\r\n    if (ele.detachEvent) ele.detachEvent(`on${type}`, callback)\r\n    else if (ele.removeEventListener) ele.removeEventListener(type, callback, false)\r\n    else ele[`on${type}`] = false\r\n  }\r\n}\r\n"],"sourceRoot":""}