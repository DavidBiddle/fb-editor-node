(()=>{function a(a,t,e){var n=[];function c(a,t){var n=a;if(e&&t){for(var c;!c&&n.parentNode;)(n=n.parentNode)&&n.className&&n.className.includes(e)&&(c=!0);c||(n=void 0)}return n}function o(a,e){var n=c(a,e);n&&n.classList.add(t)}function i(a,e){var n=c(a,e);n&&n.classList.remove(t)}a.forEach((function(a){a.classList.contains("fb-mode-edit")||(a.addEventListener("mouseover",(function(e){var c=document.querySelector(".".concat(t));c&&(n.push(c),i(c)),o(a,!0),e.stopPropagation()})),a.addEventListener("mouseout",(function(t){i(a,!0);var e=n.shift();e&&o(e),t.stopPropagation()})))}))}Array.from(document.querySelectorAll(".fb-block-date")).forEach((function(a){var t=a.getAttribute("data-block-id"),e=a.querySelector("legend");e.setAttribute("data-block-id",t),e.setAttribute("data-block-property","label")})),Array.from(document.querySelectorAll("details")).forEach((function(a){a.setAttribute("open",!0);var t=a.getAttribute("data-block-id"),e=a.querySelector("summary");e.setAttribute("data-block-id",t),e.setAttribute("data-block-property","summary");var n=a.querySelector(".govuk-details__text");n.setAttribute("data-block-id",t),n.setAttribute("data-block-property","html")})),Array.from(document.querySelectorAll(".fb-block--add")).forEach((function(a){a.href.match(/\/items\/edit$/)&&("select"===a.parentElement.previousElementSibling.dataset.blockType&&a.setAttribute("href",a.href.replace(/\/items\/edit$/,"/items")))}));var t=Array.from(document.querySelectorAll("[data-block-id]"));t.forEach((function(a,t,e){if(!a.parentElement||"SELECT"!==a.parentElement.tagName){var n=a,c=a.getAttribute("data-block-id");if("undefined"!==c){var o=a.getAttribute("data-block-type")||"",i=function(a){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=a.getAttribute("data-block-property".concat(i));if(!i||s){if("-class"===i){var l=s.split(":");s=l[1];var r=l[0];a=a.querySelector(".".concat(r))}var p=c+(s?"/".concat(s):""),d=!s;if("actions"===c){d=!1;var f=document.querySelector('[data-block-type="page"]');p="".concat(f.dataset.blockId,"/actionType")}var b=d?"{}":"âœŽ",u=d?" fb-block-instance":" fb-block-property",k="afterbegin";"input"===a.localName&&(a=a.parentNode,e[t]=a),"fieldset"===a.localName&&(a=a.querySelector("legend")||a,e[t]=a);var m="";if(d){var v="page"!==o?"component":"page",y=a.getAttribute("data-block-steps"),h="page.start"===a.getAttribute("data-block-pagetype"),g="page"===v;"page.singlequestion"===a.getAttribute("data-block-pagetype")&&(g=!1),(a.classList.contains("fb-block-group")||a.classList.contains("fb-block-section")||a.classList.contains("fb-block-fieldset"))&&(g=!0);var S=o.charAt(0).toUpperCase()+o.slice(1),A=n.getAttribute("value")||n.querySelector('[data-block-id="'.concat(c,'"] > [value]')),E="radio"===n.getAttribute("type"),q=!E&&(n.getAttribute("name")||n.querySelector('[data-block-id="'.concat(c,'"] > [name]')));if(m='<div class="fb-block-instance-properties"><span class="fb-block-instance-properties-heading fb-block-edit">'.concat(b,"</span><ul>"),m+='<li class="fb-block-instance-properties-type-item"><span class="fb-block-instance-properties-type">'.concat(S,"</span></li>"),q||"radios"===o||"date"===o||"fileupload"===o){var L='<li><a href="/admin/instance/'.concat(p,'/name">Set <span class="fb-block-instance-property-link">').concat(o," ").concat(v,"</span> name</a></li>");m+=L}else if(E){var x='<li><a href="/admin/instance/'.concat(p,'/value">Set <span class="fb-block-instance-property-link">').concat(o," ").concat(v,"</span> value</a></li>");m+=x}else if(A){var _='<li><a href="/admin/instance/'.concat(p,'/value">Set <span class="fb-block-instance-property-link">').concat(o," ").concat(v,"</span> value</a></li>");m+=_}if("fileupload"===o){var N='<li><a href="/admin/instance/'.concat(p,'/maxSize">Set <span class="fb-block-instance-property-link">').concat(o," ").concat(v,"</span> max size</a></li>");m+=N;var w='<li><a href="/admin/instance/'.concat(p,'/accept">Set <span class="fb-block-instance-property-link">').concat(o," ").concat(v,"</span> accepted types</a></li>");m+=w;var C='<li><a href="/admin/instance/'.concat(p,'/maxFiles">Set <span class="fb-block-instance-property-link">').concat(o," ").concat(v,"</span> max files</a></li>");m+=C;var D='<li><a href="/admin/instance/'.concat(p,'/minFiles">Set <span class="fb-block-instance-property-link">').concat(o," ").concat(v,"</span> min files</a></li>");m+=D}if(q||"radios"===o||"checkboxes"===o||"date"===o||"fieldset"===o||"textarea"===o){if("fieldset"!==o){var P='<li><a href="/admin/instance/'.concat(p,'/validation/required">Set <span class="fb-block-instance-property-link">').concat(o," ").concat(v,"</span> required</a></li>");m+=P}if("fieldset"!==o&&"radios"!==o&&"checkboxes"!==o){var T='<li><a href="/admin/instance/validation/'.concat(p,'">Set <span class="fb-block-instance-property-link">').concat(o," ").concat(v,"</span> validation</a></li>");m+=T}if("fileupload"!==o&&"radios"!==o&&"checkboxes"!==o){var $='<li><a href="/admin/instance/'.concat(p,'/repeatable">Set <span class="fb-block-instance-property-link">').concat(o," ").concat(v,"</span> repeatability</a></li>");m+=$}}if("page"!==o||"/edit"!==document.location.pathname){var I='<li><a href="/admin/instance/'.concat(p,'/show">Set <span class="fb-block-instance-property-link">').concat(o," ").concat(v,"</span> visibility</a></li>");m+=I}if(g){var z='<li><a href="/admin/instance/'.concat(p,'/components">Reorder <span class="fb-block-instance-property-link">').concat(o," ").concat(v,"</span> components</a></li>");m+=z}if("page"===v){if(y){var F='<li><a href="/admin/instance/'.concat(p,'/steps">Set <span class="fb-block-instance-property-link">').concat(o," ").concat(v,"</span> steps</a></li>");h||(F+='<li><a href="/admin/instance/'.concat(p,'/showSteps">Set <span class="fb-block-instance-property-link">').concat(o," ").concat(v,"</span> steps visibility</a></li>"),F+='<li><a href="/admin/instance/'.concat(p,'/stepsHeading">Set <span class="fb-block-instance-property-link">').concat(o," ").concat(v,"</span> steps heading</a></li>")),m+=F}else{var H='<li><a href="/admin/instance/'.concat(p,'/enableSteps">Enable <span class="fb-block-instance-property-link">').concat(o," ").concat(v,"</span> steps</a></li>");m+=H}h||(m+='<li><a href="/admin/instance/'.concat(p,'/url">Set <span class="fb-block-instance-property-link">').concat(o," ").concat(v,"</span> URL</a></li>"))}else if(o.match(/^(text|textarea|number|select|autocomplete)$/)){var R='<li><a href="/admin/instance/'.concat(p,'/widthClassInput">Set <span class="fb-block-instance-property-link">').concat(o," ").concat(v,"</span> width</a></li>");m+=R}if(o.match(/^(radio|checkbox)$/)){var U='<li><a href="/admin/new/'.concat(p,'/conditionalComponent">Set <span class="fb-block-instance-property-link">').concat(o," ").concat(v,"</span> conditional component</a></li>");m+=U}var j='<li class="fb-block-instance--all"><a href="/admin/instance/'.concat(p,'">View all <span class="fb-block-instance-property-link">').concat(o,"</span> properties</a></li>");if(m+=j,"page"!==o||"/edit"!==document.location.pathname){var M='<li class="fb-block-instance--delete"><form method="post" action="/admin/delete/'.concat(c,'" class="fb-instance--delete" data-delete-type="').concat(o,'"><button>Delete ').concat(v,' <span class="fb-block-instance-property-link">').concat(o,"</span></button></form></li>");m+=M}m+="</ul></div>"}else m='<div class="fb-block-edit-container'.concat(u,'"><a href="/admin/instance/').concat(p,'" class="fb-block-edit" title="Edit ').concat(p,'"><span>').concat(b,"</span></a></div>");a.insertAdjacentHTML(k,m)}};i(n),i(n,"-instance"),i(n,"-class")}}}));var e=Array.from(document.querySelectorAll(".fb-page-steps"));a(t,"fb-hover"),a(e,"fb-step-highlight","fb-step-container"),Array.from(document.querySelectorAll(".fb-instance--delete")).forEach((function(a){a.addEventListener("click",(function(a){!0!==confirm("Are you sure you want to delete?")&&a.preventDefault()}))}));var n=function(){Array.from(document.querySelectorAll(".govuk-radios__conditional, .govuk-checkboxes__conditional")).forEach((function(a){a.classList.remove("govuk-radios__conditional--hidden"),a.classList.remove("govuk-checkboxes__conditional--hidden")}))};setInterval(n,10),Array.from(document.querySelectorAll(".govuk-radios__input, .govuk-checkboxes__input, [aria-controls]")).forEach((function(a){a.addEventListener("click",(function(a){a.preventDefault(),a.stopPropagation(),n();var t=a.target.parentElement;t&&t.className.includes("fb-block-edit")&&(document.location.href=t.href)}))})),Array.from(document.querySelectorAll(".govuk-input, .govuk-textarea")).forEach((function(a){a.addEventListener("focus",(function(){a.blur()}))}));var c=document.querySelector(".govuk-back-link");c&&c.addEventListener("click",(function(a){a.preventDefault(),a.stopPropagation()}))})();
//# sourceMappingURL=page.editable-0.2.13.js.map